<div fxLayoutAlign="center center" fxLayout="column">
  <mat-progress-spinner *ngIf="loading" diameter="50"></mat-progress-spinner>

  <ng-container *ngIf="event">
    <div
      fxLayout="column"
      fxLayoutAlign="start start"
      class="top"
      [style.background-image]="
        'url(' +
        (event?.poster ? event?.poster : 'assets/images/default.png') +
        ')'
      "
    >
      <div class="background"></div>
      <div class="container" fxFlexFill fxFlex fxLayoutAlign="end end">
        <div
          class="description"
          fxLayout="row"
          fxLayout.sm="column"
          fxLayout.xs="column"
          fxLayoutGap="16px"
          fxLayoutGap.sm="8px"
          fxLayoutGap.xs="8px"
          fxLayoutAlign="start start"
        >
          <button
            mat-button
            (click)="goBack()"
            fxFlexOrder.sm="1"
            fxFlexOrder.xs="1"
            class="padding-no"
          >
            <mat-icon>arrow_left</mat-icon>
            voltar
          </button>
          <div fxLayout="column" fxFlexOrder.sm="-1" fxFlexOrder.xs="-1">
            <h1 class="title">
              {{ event?.titulo }}
            </h1>
            <div class="date">
              {{ event?.data | date: "fullDate":"UTC" }}
            </div>
          </div>
        </div>
      </div>
    </div>
    <div
      class="container content"
      fxLayout.lg="row"
      fxLayout="column"
      *ngIf="event"
    >
      <div fxFlex="70" fxFlexOrder="1" fxFlexOrder.lg="-1">
        <div
          class="body-description padding"
          [innerHTML]="event.descricao"
        ></div>

        <div class="body-description padding">
          <h3>
            Encontre hotéis e aluguéis de temporada perto de {{ event.local }}
          </h3>
          <iframe
            id="stay22-widget"
            width="100%"
            height="460"
            frameborder="0"
            [src]="url | safe"
          ></iframe>
        </div>
      </div>
      <div
        class="padding column"
        fxLayout="column"
        fxFlex="30"
        fxFlexOrder="-1"
        fxFlexOrder.lg="1"
      >
        <div class="margin-bottom">
          <a [href]="event.link" target="_blank" mat-flat-button color="primary"
            >Comprar ingresso</a
          >
          <a [href]="event.link" target="_blank" mat-button color="primary"
            >Mais informações</a
          >
        </div>
        <div
          class="margin-bottom"
          fxLayout="row"
          fxLayoutAlign="start center"
          *ngIf="event.endereco"
        >
          <mat-icon>room</mat-icon>
          <div>
            <span *ngIf="event.endereco !== 'Não informado'"
              >{{ event.endereco }}<br
            /></span>
            <b>{{ event.cidade }}</b> - {{ event.estado }}
          </div>
        </div>
        <div
          class="margin-bottom"
          fxLayout="row"
          fxLayoutAlign="start center"
          *ngIf="event.local"
        >
          <mat-icon>apartment</mat-icon>
          <div>{{ event.local }}</div>
        </div>
        <div
          class="margin-bottom"
          fxLayout="row"
          fxLayoutAlign="start center"
          *ngIf="event.data"
        >
          <mat-icon>event</mat-icon>
          <div>
            <b>{{ event.data | date: "fullDate":"UTC" }}</b>
          </div>
        </div>
        <div
          class="margin-bottom"
          fxLayout="row"
          fxLayoutAlign="start center"
          *ngIf="event.hora_inicio"
        >
          <mat-icon>access_time</mat-icon>
          <div>
            às <b>{{ event.hora_inicio }}</b>
          </div>
        </div>
      </div>
    </div>
  </ng-container>
</div>
